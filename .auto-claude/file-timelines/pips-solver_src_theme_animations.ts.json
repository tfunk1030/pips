{
  "file_path": "pips-solver/src/theme/animations.ts",
  "main_branch_history": [],
  "task_views": {
    "005-add-image-stats-diagnostic-endpoint": {
      "task_id": "005-add-image-stats-diagnostic-endpoint",
      "branch_point": {
        "commit_hash": "faf3f69f9b2794c6a85ffd2581461d3d68bdf8ef",
        "content": "",
        "timestamp": "2025-12-22T03:09:16.372053"
      },
      "worktree_state": null,
      "task_intent": {
        "title": "005-add-image-stats-diagnostic-endpoint",
        "description": "Create a _calculate_image_stats function and expose it as a standalone API endpoint that returns brightness, contrast, dynamic range, color balance, and saturation metrics without requiring preprocessing. This helps users diagnose image quality issues before extraction.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    },
    "007-step1gridalignment-should-use-themed-ui-components": {
      "task_id": "007-step1gridalignment-should-use-themed-ui-components",
      "branch_point": {
        "commit_hash": "faf3f69f9b2794c6a85ffd2581461d3d68bdf8ef",
        "content": "",
        "timestamp": "2025-12-22T03:10:00.281002"
      },
      "worktree_state": {
        "content": "/**\n * Animation Utilities\n *\n * Reusable animation configurations using react-native-reanimated\n * For the \"Tactile Game Table\" aesthetic with smooth, playful motion\n */\n\nimport {\n  Easing,\n  SharedValue,\n  WithSpringConfig,\n  WithTimingConfig,\n  withDelay,\n  withSequence,\n  withSpring,\n  withTiming,\n  interpolate,\n  Extrapolate,\n} from 'react-native-reanimated';\nimport { animation } from './tokens';\n\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n// Spring Configurations\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nexport const springConfigs = {\n  // Gentle spring for UI elements\n  gentle: {\n    damping: 20,\n    stiffness: 200,\n    mass: 1,\n  } as WithSpringConfig,\n\n  // Snappy spring for buttons and quick interactions\n  snappy: {\n    damping: 15,\n    stiffness: 400,\n    mass: 0.8,\n  } as WithSpringConfig,\n\n  // Bouncy spring for playful elements (solve celebration)\n  bouncy: {\n    damping: 8,\n    stiffness: 300,\n    mass: 1,\n  } as WithSpringConfig,\n\n  // Stiff spring for precise movements\n  stiff: {\n    damping: 25,\n    stiffness: 500,\n    mass: 1,\n  } as WithSpringConfig,\n};\n\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n// Timing Configurations\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nexport const timingConfigs = {\n  fast: {\n    duration: animation.duration.fast,\n    easing: Easing.out(Easing.cubic),\n  } as WithTimingConfig,\n\n  normal: {\n    duration: animation.duration.normal,\n    easing: Easing.out(Easing.cubic),\n  } as WithTimingConfig,\n\n  slow: {\n    duration: animation.duration.slow,\n    easing: Easing.out(Easing.cubic),\n  } as WithTimingConfig,\n\n  // Ease in-out for smooth transitions\n  smooth: {\n    duration: animation.duration.normal,\n    easing: Easing.inOut(Easing.cubic),\n  } as WithTimingConfig,\n\n  // Linear for progress indicators\n  linear: {\n    duration: animation.duration.normal,\n    easing: Easing.linear,\n  } as WithTimingConfig,\n};\n\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n// Staggered Animation Helpers\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n/**\n * Calculate stagger delay for an item in a list\n * @param index - Index of the item\n * @param staggerType - 'fast' | 'normal' | 'slow'\n */\nexport function getStaggerDelay(\n  index: number,\n  staggerType: keyof typeof animation.stagger = 'normal'\n): number {\n  return index * animation.stagger[staggerType];\n}\n\n/**\n * Create a staggered fade-in animation value\n */\nexport function staggeredFadeIn(\n  index: number,\n  staggerType: keyof typeof animation.stagger = 'normal'\n) {\n  return withDelay(\n    getStaggerDelay(index, staggerType),\n    withTiming(1, timingConfigs.normal)\n  );\n}\n\n/**\n * Create a staggered slide-up animation value\n */\nexport function staggeredSlideUp(\n  index: number,\n  staggerType: keyof typeof animation.stagger = 'normal'\n) {\n  return withDelay(\n    getStaggerDelay(index, staggerType),\n    withSpring(0, springConfigs.gentle)\n  );\n}\n\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n// Preset Animations\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n/**\n * Fade in animation\n */\nexport function fadeIn(opacity: SharedValue<number>) {\n  opacity.value = withTiming(1, timingConfigs.normal);\n}\n\n/**\n * Fade out animation\n */\nexport function fadeOut(opacity: SharedValue<number>) {\n  opacity.value = withTiming(0, timingConfigs.normal);\n}\n\n/**\n * Scale press animation (button press effect)\n */\nexport function scalePress(scale: SharedValue<number>) {\n  scale.value = withTiming(0.96, timingConfigs.fast);\n}\n\n/**\n * Scale release animation (button release effect)\n */\nexport function scaleRelease(scale: SharedValue<number>) {\n  scale.value = withSpring(1, springConfigs.snappy);\n}\n\n/**\n * Pulse animation (for highlights, success states)\n */\nexport function pulse(scale: SharedValue<number>) {\n  scale.value = withSequence(\n    withSpring(1.05, springConfigs.bouncy),\n    withSpring(1, springConfigs.gentle)\n  );\n}\n\n/**\n * Shake animation (for errors, invalid input)\n */\nexport function shake(translateX: SharedValue<number>) {\n  translateX.value = withSequence(\n    withTiming(-10, { duration: 50 }),\n    withTiming(10, { duration: 50 }),\n    withTiming(-8, { duration: 50 }),\n    withTiming(8, { duration: 50 }),\n    withTiming(-5, { duration: 50 }),\n    withSpring(0, springConfigs.stiff)\n  );\n}\n\n/**\n * Celebration animation (for solve success)\n * Returns an animation that bounces up and settles\n */\nexport function celebrate(scale: SharedValue<number>) {\n  scale.value = withSequence(\n    withSpring(1.15, springConfigs.bouncy),\n    withSpring(0.95, springConfigs.bouncy),\n    withSpring(1.05, springConfigs.bouncy),\n    withSpring(1, springConfigs.gentle)\n  );\n}\n\n/**\n * Domino deal animation\n * Simulates a domino being \"dealt\" onto the board\n */\nexport function dominoDeal(\n  opacity: SharedValue<number>,\n  translateY: SharedValue<number>,\n  scale: SharedValue<number>,\n  index: number\n) {\n  const delay = index * animation.stagger.normal;\n\n  opacity.value = withDelay(delay, withTiming(1, timingConfigs.normal));\n  translateY.value = withDelay(delay, withSpring(0, springConfigs.gentle));\n  scale.value = withDelay(\n    delay,\n    withSequence(\n      withSpring(1.05, springConfigs.bouncy),\n      withSpring(1, springConfigs.gentle)\n    )\n  );\n}\n\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n// Interpolation Helpers\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\n/**\n * Interpolate value for opacity fade\n */\nexport function interpolateOpacity(\n  value: number,\n  inputRange: [number, number] = [0, 1]\n): number {\n  return interpolate(value, inputRange, [0, 1], Extrapolate.CLAMP);\n}\n\n/**\n * Interpolate value for slide animation\n */\nexport function interpolateSlide(\n  value: number,\n  slideDistance: number = 20\n): number {\n  return interpolate(value, [0, 1], [slideDistance, 0], Extrapolate.CLAMP);\n}\n\n/**\n * Interpolate value for scale animation\n */\nexport function interpolateScale(\n  value: number,\n  fromScale: number = 0.9,\n  toScale: number = 1\n): number {\n  return interpolate(value, [0, 1], [fromScale, toScale], Extrapolate.CLAMP);\n}\n\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n// Animation Hooks\n// \u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\u2550\n\nimport { useCallback } from 'react';\nimport { useSharedValue } from 'react-native-reanimated';\n\n/**\n * Hook for press animation state\n */\nexport function usePressAnimation() {\n  const scale = useSharedValue(1);\n\n  const onPressIn = useCallback(() => {\n    scalePress(scale);\n  }, [scale]);\n\n  const onPressOut = useCallback(() => {\n    scaleRelease(scale);\n  }, [scale]);\n\n  return { scale, onPressIn, onPressOut };\n}\n\n/**\n * Hook for entrance animation\n */\nexport function useEntranceAnimation(delay: number = 0) {\n  const opacity = useSharedValue(0);\n  const translateY = useSharedValue(20);\n\n  const animate = useCallback(() => {\n    opacity.value = withDelay(delay, withTiming(1, timingConfigs.normal));\n    translateY.value = withDelay(delay, withSpring(0, springConfigs.gentle));\n  }, [delay, opacity, translateY]);\n\n  return { opacity, translateY, animate };\n}\n",
        "last_modified": "2025-12-22T03:10:03.093797"
      },
      "task_intent": {
        "title": "007-step1gridalignment-should-use-themed-ui-components",
        "description": "Refactor Step1GridAlignment screen to use the established Button, Card, and Text components from the UI library instead of raw TouchableOpacity and inline StyleSheet styles. This improves consistency, accessibility, and maintainability.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-22T03:09:34.567089",
  "last_updated": "2025-12-22T03:10:02.344761"
}