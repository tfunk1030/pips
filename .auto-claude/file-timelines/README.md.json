{
  "file_path": "README.md",
  "main_branch_history": [],
  "task_views": {
    "004-add-cross-stage-confidence-warnings-to-ui": {
      "task_id": "004-add-cross-stage-confidence-warnings-to-ui",
      "branch_point": {
        "commit_hash": "faf3f69f9b2794c6a85ffd2581461d3d68bdf8ef",
        "content": "",
        "timestamp": "2025-12-22T03:09:58.791154"
      },
      "worktree_state": {
        "content": "# Pips (NYT Pips assistant)\n\nAn offline-first Expo + React Native reference app for importing, validating, and solving NYT \u201cPips\u201d domino puzzles using a constraint satisfaction approach. The solver runs entirely on-device and yields frequently so the UI stays responsive.\n\n## Features\n- YAML/JSON import screen with a built-in sample puzzle.\n- Local library stored in AsyncStorage for offline use.\n- React Native + SVG grid viewer with pan/zoom support and region coloring.\n- CSP-style solver with MRV, forward checking, and region-bound propagation.\n- Validation pipeline for both puzzle specs and solver outputs.\n- Deterministic progress reporting and cancel-friendly async loop.\n\n## Project structure\n```\nsrc/\n  app/\n    navigation/RootNavigator.tsx\n    screens/ (Home, Editor, Viewer, Solve, Settings)\n    components/PuzzleGrid.tsx\n  model/\n    types.ts\n    parser.ts\n    normalize.ts\n  solver/\n    solver.ts\n    heuristics.ts\n    propagate.ts\n    explain.ts\n  validator/\n    validateSpec.ts\n    validateSolution.ts\n  storage/puzzles.ts\n  samples/sample1.yaml\n```\n\n## Running\n1. Install dependencies (requires Expo SDK 51):\n   ```bash\n   npm install\n   ```\n2. Start the Metro server:\n   ```bash\n   npm run start\n   ```\n3. Open the project in Expo Go or an emulator. All logic runs offline once bundled.\n\n## Puzzle format\nExample (`src/samples/sample1.yaml`):\n```yaml\nname: Tiny Example\nrows: 2\ncols: 2\nregions:\n  - [1, 1]\n  - [2, 2]\nregionConstraints:\n  1:\n    sum: 3\n  2:\n    sum: 3\nmaxPip: 3\nallowDuplicates: false\n```\n\n### Supported fields\n- `rows`, `cols`: grid dimensions\n- `regions`: 2D array of region ids matching the grid\n- `regionConstraints`: per-region rule: `sum`, `op` with value, or `all_equal`\n- `maxPip`: highest pip value (default double-six)\n- `allowDuplicates`: whether dominoes can repeat\n\n## Solver and validator\n- **solver.ts**: MRV backtracking with region-bound pruning and tick-based yielding. Produces grid pips, domino pairings, stats, and unsat explanations.\n- **validateSpec.ts**: confirms region coverage and constraints are well-formed.\n- **validateSolution.ts**: re-checks domino adjacency/uniqueness and region math before displaying a result.\n\n## Adding puzzles\n1. Tap **Import YAML** and paste a new puzzle, or drop a YAML file into `src/samples/` for bundling.\n2. Save it to the library; it remains available offline.\n\n## Debugging notes\n- Solver progress is reported through callbacks and never blocks the UI thread.\n- Validation always runs on solver outputs to avoid displaying inconsistent solutions.\n",
        "last_modified": "2025-12-22T03:10:02.178152"
      },
      "task_intent": {
        "title": "004-add-cross-stage-confidence-warnings-to-ui",
        "description": "Display the confidence hints generated by generateConfidenceHints() in the mobile app's extraction results screen. The backend already computes these hints but the UI only shows the overall confidence percentage.",
        "from_plan": true
      },
      "commits_behind_main": 0,
      "status": "active",
      "merged_at": null
    }
  },
  "created_at": "2025-12-22T03:09:58.901078",
  "last_updated": "2025-12-22T03:09:58.999036"
}